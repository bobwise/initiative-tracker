(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(5),l=a.n(r),s=a(8),c=a(9),o=a(12),d=a(10),u=a(11),m=a(13),h=a(29),v=a(14),p=a(1),E=a(50),f=a(16),b=a(43),g=a.n(b),y=function(e){return i.a.createElement("svg",Object.assign({viewBox:"0 0 469.333 469.333"},e),i.a.createElement("path",{d:"M426.667 0h-384C19.146 0 0 19.135 0 42.667v384c0 23.531 19.146 42.667 42.667 42.667h384c23.521 0 42.667-19.135 42.667-42.667v-384C469.333 19.135 450.188 0 426.667 0zm-88.461 308.043c4.167 4.165 4.167 10.919 0 15.085l-15.081 15.082c-4.167 4.165-10.919 4.165-15.086 0l-73.374-73.374-73.374 73.374c-4.167 4.165-10.919 4.165-15.086 0l-15.081-15.082c-4.167-4.165-4.167-10.919 0-15.085l73.374-73.375-73.374-73.374c-4.167-4.165-4.167-10.919 0-15.085l15.081-15.082c4.167-4.165 10.919-4.165 15.086 0l73.374 73.374 73.374-73.374c4.167-4.165 10.919-4.165 15.086 0l15.081 15.082c4.167 4.165 4.167 10.919 0 15.085l-73.374 73.374 73.374 73.375z"}))},k=function(e){return i.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32"},i.a.createElement("style",null,"\nenable-background:new 0 0 32 32;\n"),i.a.createElement("path",{d:"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"}))},O=(a(69),a(44)),w=a.n(O),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.props.onUpdate(this.props.id,n,a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.name,r=t.initiative,l=t.deleteCallback,s=t.triggerSortCallback;return i.a.createElement(f.b,{draggableId:this.props.id.toString(),index:this.props.index},function(t,c){return i.a.createElement("div",Object.assign({id:"itemContainer"+e.props.id,className:w()({initiative_entry:!0,initiative_entry__active:e.props.isActive,is_dragging:c.isDragging}),onKeyDown:function(t){t.target.id!=="itemContainer"+e.props.id||46!==t.keyCode&&8!==t.keyCode||l(a)}},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),i.a.createElement("div",Object.assign({className:"grabber hamburgerIcon"},t.dragHandleProps,{tabIndex:-1}),i.a.createElement(k,null)),i.a.createElement("div",{className:"name"},i.a.createElement("input",{type:"text",name:"name","aria-label":"Name",value:n,onClick:function(e){e.target.select()},onChange:e.handleInputChange})),i.a.createElement("div",{className:"initiative_roll"},i.a.createElement("input",{type:"text",name:"initiative",pattern:"[0-9]*","aria-label":"Initiative",value:r,onClick:function(e){e.target.select()},onChange:e.handleInputChange,onBlur:function(){s()}})),i.a.createElement("div",{className:"actions"},l&&i.a.createElement("div",{className:"deleteIcon",onClick:function(){l(a)}},i.a.createElement(y,null))))})}}]),t}(n.Component);j.defaultProps={};var I=j,N=(a(108),a(109)),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).addEntry=a.addEntry.bind(Object(p.a)(a)),a.updateEntry=a.updateEntry.bind(Object(p.a)(a)),a.killChild=a.killChild.bind(Object(p.a)(a)),a.sortEntries=a.sortEntries.bind(Object(p.a)(a)),a.clearEntries=a.clearEntries.bind(Object(p.a)(a)),a.updateNewName=a.updateNewName.bind(Object(p.a)(a)),a.updateNewInit=a.updateNewInit.bind(Object(p.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(p.a)(a)),a.onDragEnd=a.onDragEnd.bind(Object(p.a)(a)),a.nameInputRef=i.a.createRef(),a.initInputRef=i.a.createRef(),a.state={allEntries:e.initialEntries?e.initialEntries:[],initiativeOrder:[],newEntry:{name:"",initiative:""},focusedIndex:-1,activeIndex:-1,initativeOrderMessage:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),i=n.splice(t,1),r=Object(E.a)(i,1)[0];return n.splice(a,0,r),n}(this.state.initiativeOrder,e.source.index,e.destination.index),a="The Initiative Order is ";0===t.length?a+="empty":a+=t.map(function(e){return e.name}),this.setState({allEntries:t,initiativeOrder:t,initativeOrderMessage:a})}}},{key:"componentDidMount",value:function(){this.sortEntries(),this.nameInputRef.current.focus()}},{key:"updateNewName",value:function(e){this.setState({newEntry:Object(v.a)({},this.state.newEntry,{name:e.target.value})})}},{key:"updateNewInit",value:function(e){this.setState({newEntry:Object(v.a)({},this.state.newEntry,{initiative:parseInt(e.target.value)})})}},{key:"handleKeyDown",value:function(e){switch("init_val"===e.target.name&&(40!==e.keyCode&&38!==e.keyCode||e.preventDefault()),e.keyCode){case 13:"clearButton"===e.target.name?this.clearEntries():this.addEntry(),this.nameInputRef.current.focus();break;case 37:break;case 38:this.state.focusedIndex>-1&&(0===this.state.focusedIndex&&this.nameInputRef.current.focus(),this.setState({focusedIndex:this.state.focusedIndex-1}));break;case 39:break;case 40:this.state.focusedIndex<this.state.allEntries.length-1&&this.setState({focusedIndex:this.state.focusedIndex+1})}}},{key:"clearEntries",value:function(){this.setState({allEntries:[],initiativeOrder:[],newEntry:{name:"",initiative:""},initativeOrderMessage:"The initiative order is empty"})}},{key:"compareEntries",value:function(e,t){var a=e.initiative,n=t.initiative;return-1*(a>n?1:n>a?-1:0)}},{key:"sortEntries",value:function(){var e=this.state.allEntries,t=Object(h.a)(e).sort(this.compareEntries),a="Initiative Order is: "+t.map(function(e){return e.name});this.setState({initiativeOrder:t,initativeOrderMessage:a})}},{key:"addEntry",value:function(){var e=this,t=this.state.allEntries,a=Object(h.a)(t);if(!isNaN(this.state.newEntry.initiative)&&""!==this.state.newEntry.name.trim()){var n=this.state.newEntry;n.id=parseInt(N()),a.push(n)}this.setState({allEntries:a,newEntry:{name:"",initiative:""}},function(){e.sortEntries()})}},{key:"killChild",value:function(e){var t=this.state,a=t.initiativeOrder,n=t.allEntries,i=a.filter(function(t){return t.id!==e}),r=n.filter(function(t){return t.id!==e});this.setState({initiativeOrder:i,allEntries:r})}},{key:"updateEntry",value:function(e,t,a){var n=this;this.setState(function(n){return{allEntries:n.allEntries.map(function(n,i){return n.id===e?"initiative"===t?(a=parseInt(a),isNaN(a)?Object(v.a)({},n,Object(m.a)({},t,0)):Object(v.a)({},n,Object(m.a)({},t,parseInt(a)))):Object(v.a)({},n,Object(m.a)({},t,a)):n})}},function(){n.sortEntries()})}},{key:"render",value:function(){var e=this,t=this.state.initiativeOrder;return i.a.createElement("div",{className:"initiative_order",onKeyDown:this.handleKeyDown},i.a.createElement("div",{className:"form_container"},i.a.createElement("div",{className:"field_container"},i.a.createElement("label",{htmlFor:"char_name"},"Name"),i.a.createElement("input",{type:"text",name:"char_name",id:"char_name",value:this.state.newEntry.name,onClick:function(e){e.target.select()},onChange:this.updateNewName,ref:this.nameInputRef})),i.a.createElement("div",{className:"field_container"},i.a.createElement("label",{htmlFor:"init_val"},"Initiative"),i.a.createElement("input",{type:"number",name:"init_val",id:"init_val",pattern:"[0-9]*",value:this.state.newEntry.initiative,onClick:function(e){e.target.select()},onChange:this.updateNewInit,ref:this.initInputRef})),i.a.createElement("button",{className:"submitButton",onClick:function(){e.addEntry(),e.nameInputRef.current.focus()}},"Add")),i.a.createElement("div",{role:"region","aria-live":"polite",className:"screen-reader-text",id:"initiative_live"},this.state.initativeOrderMessage),i.a.createElement(f.a,{onDragEnd:this.onDragEnd},i.a.createElement(f.c,{droppableId:"droppable"},function(a,n){return i.a.createElement("div",Object.assign({className:"entries",ref:a.innerRef},a.droppableProps),i.a.createElement(g.a,{transitionName:"example",transitionEnterTimeout:500,transitionLeaveTimeout:300},t.filter(function(e){return!0}).map(function(t,a){return i.a.createElement(I,{index:a,displayNum:(a+1).toString(),id:t.id,key:t.id,name:t.name,initiative:t.initiative,comments:t.comments,onUpdate:e.updateEntry,deleteCallback:e.killChild,triggerSortCallback:e.sortEntries})})),a.placeholder)})),t.length>0&&i.a.createElement("footer",null,i.a.createElement("p",null,"Drag and drop to adjust order."),i.a.createElement("p",null,i.a.createElement("kbd",null,"Tab")," and ",i.a.createElement("kbd",null,"Space")," to select rows, ",i.a.createElement("kbd",null,"\u2191")," and ",i.a.createElement("kbd",null,"\u2193")," to move them."),i.a.createElement("button",{className:"clearButton",name:"clearButton",onClick:this.clearEntries},"Clear")))}}]),t}(n.Component),x=(a(110),function(e){return i.a.createElement("svg",{className:"dividerImage",viewBox:"0 0 226.08 3"},i.a.createElement("defs",null,i.a.createElement("style",null,"\n.cls-1{fill:none;}\n.cls-2{clip-path:url(#clip-path);}\n.cls-3{fill:#822000;}\n"),i.a.createElement("clipPath",{id:"clip-path",transform:"translate(-666 -479)"},i.a.createElement("rect",{className:"cls-1",x:"666",y:"479",width:"226.08",height:"3"}))),i.a.createElement("title",null,"stat-block-header-bar"),i.a.createElement("g",{className:"cls-2"},i.a.createElement("path",{className:"cls-3",d:"M666,482c5.76,0,226.08-1.5,226.08-1.5S671.76,479,666,479Z",transform:"translate(-666 -479)"})))}),S=function(e){function t(e){var a;Object(s.a)(this,t);var n;return n=[{id:123,name:"Anya",initiative:18},{id:234,name:"Wizowski",initiative:15},{id:1233,name:"Milo",initiative:15},{id:23444,name:"Shandri",initiative:15},{id:2352334,name:"Raj",initiative:12},{id:22333333352334,name:"Xhauk",initiative:12},{id:223352334,name:"Kriv",initiative:12}],(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={entries:n,tipsVisible:!0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.entries;return i.a.createElement("main",null,i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Initiative Tracker"),i.a.createElement(x,null),i.a.createElement(C,{initialEntries:e})),i.a.createElement("footer",{className:"siteFooter"},i.a.createElement("p",null,"by ",i.a.createElement("a",{href:"http://twitter.com/bobwise/"},"Bobwise"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,a){e.exports=a(111)},69:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.6723ae93.chunk.js.map